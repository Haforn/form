I"(function() {
  $(function() {
    $('.new_comment').on('keydown', function(evt) {
      if (evt.which === 13) {
        return $(this).submit();
      }
    });
    $('.new_comment').on('ajax:success', function(evt, post, status) {
      var $comment, $error_message, $form, $str;
      if ($(this).find('.error-field').length > 0) {
        $(this).find('.error-field').removeClass('error-field');
        $('.error-message').remove();
      }
      $str = post.body.trim();
      if ($str.length > 1) {
        $comment = $('<div/>').addClass('comment').html(post.body);
        $comment.append('<a href="/" class="js-trigger">Verwijderen?</a>');
        $comment.hide();
        $comment.append($('<hr/>'));
        $('.comments').append($comment);
        $comment.slideDown();
        return $('.new_comment textarea').val('').focus();
      } else {
        $form = $(this).find('textarea');
        $form.parent().addClass('error-field');
        $error_message = $('<span/>').addClass('error-message').html('Comment can\'t be blank');
        $form.after($error_message);
        return $error_message.delay(100).queue(function() {
          return $error_message.addClass('show-message');
        });
      }
    });
    return $('.js-trigger').on('click', function(evt) {
      return console.log(evt);
    });

    /*
    	$comment.append('
    		<a href="/">Verwijderen?</a>
    		<div class="js-pop-up">
    			<p>Weet je het zeker?</p>
    			<a class="js-yes" data-remote="true" rel="nofollow" data-method="delete" href="">
    				Ja
    			</a>
    			<a href="/" class="js-no">
    				nee
    			</a>
    		</div>')
    	
    	 * Setting the delete path
    	$href = 'posts/' + post.post_id + '/comments/' + post.id
    	$comment.find('.js-yes').attr('href', $href)
     */
  });

}).call(this);
:ET