I"å(function() {
  $(function() {
    $('.new_comment').on('keydown', function(evt) {
      if (evt.which === 13) {
        return $(this).submit();
      }
    });
    return $('.new_comment').on('ajax:success', function(evt, post, status) {
      var $comment, $error_message, $form;
      console.log(evt, post.body.length, status);
      if (post.body.length > 1) {
        $comment = $('<div/>').addClass('comment').html(post.body);
        $comment.hide();
        $comment.append($('<hr/>'));
        $('.comments').append($comment);
        $comment.slideDown();
        return $('.new_comment textarea').val('').focus();
      } else {
        console.log($(this).find('textarea'));
        $form = $(this).find('textarea');
        $form.parent().addClass('error-field');
        $error_message = $('<span/>').html('Comment can\'t be blank');
        $error_message.hide();
        $form.after($error_message);
        return $error_message.show(300);
      }
    });
  });

}).call(this);
:ET